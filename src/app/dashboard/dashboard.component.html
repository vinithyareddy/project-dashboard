<div class="dashboard-container">
  <!-- Project Overview -->
  <mat-card class="dashboard-card">
    <mat-card-header>
      <mat-card-title>Project Overview</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="progress-bar">
        <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
      </div>
      <p>{{ progress | number: '1.2-2' }}% Completed</p>
    </mat-card-content>
  </mat-card>

  <!-- Task Status Table -->
  <mat-card class="task-status-card">
    <mat-card-header>
      <mat-card-title>Task Status</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <!-- Task Status Filter Dropdown -->
      <mat-form-field appearance="fill">
        <mat-label>Filter by Status</mat-label>
        <mat-select [(value)]="selectedStatus" (selectionChange)="filterTasks(selectedStatus)">
          <mat-option value="All">All Tasks</mat-option>
          <mat-option value="In Progress">In Progress</mat-option>
          <mat-option value="Completed">Completed</mat-option>
          <mat-option value="Not Started">Not Started</mat-option>
        </mat-select>
      </mat-form-field>

      <table mat-table [dataSource]="filteredTasks" class="mat-elevation-z8">
        <ng-container matColumnDef="task">
          <th mat-header-cell *matHeaderCellDef> Task </th>
          <td mat-cell *matCellDef="let task"> {{task.name}} </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let task"> {{task.status}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>
  </mat-card>

  <!-- Task Summary -->
  <mat-card class="task-summary-card">
    <mat-card-header>
      <mat-card-title>Task Summary</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="task-summary">
        <div class="task-summary-box">Total Tasks: {{ totalTasks }}</div>
        <div class="task-summary-box">Tasks Completed: {{ tasksCompleted }}</div>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Team Performance -->
  <mat-card class="team-performance-card">
    <mat-card-header>
      <mat-card-title>Team Performance</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <!-- Team Member Filter Dropdown -->
      <mat-form-field appearance="fill">
        <mat-label>Filter by Team Member</mat-label>
        <mat-select [(value)]="selectedTeamMember" (selectionChange)="filterTeamMember(selectedTeamMember)">
          <mat-option value="All">All Members</mat-option>
        <mat-option *ngFor="let member of teamMembers" [value]="member">{{ member }}</mat-option>
      </mat-select>
    </mat-form-field>

<mat-card-content>
    <table mat-table [dataSource]="filteredTeamData" class="mat-elevation-z8">
      <ng-container matColumnDef="member">
        <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
        <mat-cell *matCellDef="let teamMember"> {{ teamMember.member }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="tasksAssigned">
        <mat-header-cell *matHeaderCellDef> Tasks Assigned </mat-header-cell>
        <mat-cell *matCellDef="let teamMember"> {{ teamMember.tasksAssigned }} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="tasksCompleted">
        <mat-header-cell *matHeaderCellDef> Tasks Completed </mat-header-cell>
        <mat-cell *matCellDef="let teamMember"> {{ teamMember.tasksCompleted }} </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumnsTeam"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumnsTeam;"></mat-row>
    </table>
  </mat-card-content>
    </mat-card-content>
  </mat-card>

  <!-- Upcoming Deadlines -->
  <mat-card class="upcoming-deadlines-card">
    <mat-card-header>
      <mat-card-title>Upcoming Deadlines</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <!-- Deadline Filter Dropdown -->
      <mat-form-field appearance="fill">
        <mat-label>Filter by Deadline</mat-label>
        <mat-select [(value)]="selectedDeadline" (selectionChange)="filterDeadlines(selectedDeadline)">
          <mat-option value="All">All Dates</mat-option>
          <mat-option value="2025-04-11">2025 April 11</mat-option>
          <mat-option value="2025-04-16">2025 April 16</mat-option>
          <mat-option value="2025-04-24">2025 April 24</mat-option>
          <mat-option value="2025-04-17">2025 April 17</mat-option>
          <mat-option value="2025-04-22">2025 April 22</mat-option>
          <mat-option value="2025-04-09">2025 April 09</mat-option>
          <mat-option value="2025-04-14">2025 April 14</mat-option>
          <mat-option value="2025-04-29">2025 April 29</mat-option>
          <mat-option value="2025-04-28">2025 April 28</mat-option>
          <mat-option value="2025-04-10">2025 April 10</mat-option>
          <mat-option value="2025-04-20">2025 April 20</mat-option>
        </mat-select>
      </mat-form-field>

      <table mat-table [dataSource]="filteredDeadlines" class="mat-elevation-z8">
        <ng-container matColumnDef="task">
          <th mat-header-cell *matHeaderCellDef> Task </th>
          <td mat-cell *matCellDef="let task"> {{task.name}} </td>
        </ng-container>

        <ng-container matColumnDef="deadline">
          <th mat-header-cell *matHeaderCellDef> Deadline </th>
          <td mat-cell *matCellDef="let task"> {{task.deadline}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsDeadlines"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsDeadlines;"></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>
