<div class="dashboard-container">
  <!-- Project Overview -->
  <mat-card class="dashboard-card">
    <mat-card-header>
      <mat-card-title>Project Overview</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="progress-bar">
        <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
      </div>
      <p>{{ progress | number: '1.2-2' }}% Completed</p>
    </mat-card-content>
  </mat-card>

  <!-- Task Status Table -->
  <mat-card class="task-status-card">
    <mat-card-header>
      <mat-card-title>Task Status</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="filter-buttons">
        <button mat-button (click)="filterTasks('All')">All Tasks</button>
        <button mat-button (click)="filterTasks('In Progress')">In Progress</button>
        <button mat-button (click)="filterTasks('Completed')">Completed</button>
        <button mat-button (click)="filterTasks('Overdue')">Overdue</button>
      </div>
      <table mat-table [dataSource]="filteredTasks" class="mat-elevation-z8">
        <ng-container matColumnDef="task">
          <th mat-header-cell *matHeaderCellDef> Task </th>
          <td mat-cell *matCellDef="let task"> {{task.name}} </td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Status </th>
          <td mat-cell *matCellDef="let task"> {{task.status}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>
  </mat-card>

  <!-- Task Summary -->
  <mat-card class="task-summary-card">
    <mat-card-header>
      <mat-card-title>Task Summary</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="task-summary">
        <div class="task-summary-box">Total Tasks: {{ totalTasks }}</div>
        <div class="task-summary-box">Tasks Completed: {{ tasksCompleted }}</div>
        <div class="task-summary-box">Overdue Tasks: {{ overdueTasks }}</div>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Team Performance -->
  <mat-card class="team-performance-card">
    <mat-card-header>
      <mat-card-title>Team Performance</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="filter-buttons">
        <button mat-button (click)="filterTeamMember('All')">All Members</button>
        <button mat-button (click)="filterTeamMember('John')">John</button>
        <button mat-button (click)="filterTeamMember('Alice')">Alice</button>
        <button mat-button (click)="filterTeamMember('Bob')">Bob</button>
      </div>
      <ul>
        <li *ngFor="let member of filteredTeamData">
          {{ member.member }}: {{ member.tasksAssigned }} tasks assigned, {{ member.tasksCompleted }} tasks completed
        </li>
      </ul>
    </mat-card-content>
  </mat-card>

  <!-- Upcoming Deadlines -->
  <mat-card class="upcoming-deadlines-card">
    <mat-card-header>
      <mat-card-title>Upcoming Deadlines</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="filter-buttons">
        <button mat-button (click)="filterDeadlines('All')">All Dates</button>
        <button mat-button (click)="filterDeadlines('2025-04-10')">April 10</button>
        <button mat-button (click)="filterDeadlines('2025-04-12')">April 12</button>
        <button mat-button (click)="filterDeadlines('2025-04-15')">April 15</button>
      </div>
      <table mat-table [dataSource]="filteredDeadlines" class="mat-elevation-z8">
        <ng-container matColumnDef="task">
          <th mat-header-cell *matHeaderCellDef> Task </th>
          <td mat-cell *matCellDef="let task"> {{task.name}} </td>
        </ng-container>

        <ng-container matColumnDef="deadline">
          <th mat-header-cell *matHeaderCellDef> Deadline </th>
          <td mat-cell *matCellDef="let task"> {{task.deadline}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumnsDeadlines"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsDeadlines;"></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>
