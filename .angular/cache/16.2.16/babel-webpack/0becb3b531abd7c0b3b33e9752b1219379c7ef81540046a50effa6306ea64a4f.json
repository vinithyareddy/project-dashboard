{"ast":null,"code":"import _asyncToGenerator from \"/Users/vinithyareddy/Desktop/projects/my github projects/project-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nexport let ChangePasswordDialogComponent = class ChangePasswordDialogComponent {\n  constructor(fb, authService, dialogRef) {\n    this.fb = fb;\n    this.authService = authService;\n    this.dialogRef = dialogRef;\n    this.message = '';\n    this.isError = false;\n    this.passwordForm = this.fb.group({\n      currentPassword: ['', Validators.required],\n      newPassword: ['', [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['', Validators.required]\n    });\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.passwordForm.invalid) return;\n      const {\n        currentPassword,\n        newPassword,\n        confirmPassword\n      } = _this.passwordForm.value;\n      if (newPassword !== confirmPassword) {\n        _this.message = '❌ Passwords do not match';\n        _this.isError = true;\n        return;\n      }\n      try {\n        yield _this.authService.updateUserPassword(currentPassword, newPassword);\n        _this.message = '✅ Password updated successfully';\n        _this.isError = false;\n        _this.passwordForm.reset();\n      } catch (error) {\n        _this.message = `❌ ${error.message || 'Failed to update password'}`;\n        _this.isError = true;\n      }\n    })();\n  }\n};\nChangePasswordDialogComponent = __decorate([Component({\n  selector: 'app-change-password-dialog',\n  selector: 'app-calendar',\n  templateUrl: './calendar.component.html',\n  styleUrls: [\"../change-password-dialog/change-password-dialog.component.scss\"],\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, MatFormFieldModule, MatInputModule, MatButtonModule],\n  styleUrls: [\"../change-password-dialog/change-password-dialog.component.scss\"]\n})], ChangePasswordDialogComponent);","map":{"version":3,"names":["Component","CommonModule","ReactiveFormsModule","Validators","MatButtonModule","MatFormFieldModule","MatInputModule","ChangePasswordDialogComponent","constructor","fb","authService","dialogRef","message","isError","passwordForm","group","currentPassword","required","newPassword","minLength","confirmPassword","onSubmit","_this","_asyncToGenerator","invalid","value","updateUserPassword","reset","error","__decorate","selector","templateUrl","styleUrls","standalone","imports"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/project-dashboard/src/app/change-password-dialog/change-password-dialog.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, ReactiveFormsModule, FormGroup, Validators } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Component({\n  selector: 'app-change-password-dialog',\n  selector: 'app-calendar',\n  templateUrl: './calendar.component.html',\n  styleUrls: [\"../change-password-dialog/change-password-dialog.component.scss\"]\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatButtonModule\n  ],\n  styleUrls: [\"../change-password-dialog/change-password-dialog.component.scss\"]\n})\nexport class ChangePasswordDialogComponent {\n  passwordForm: FormGroup;\n  message = '';\n  isError = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    public dialogRef: MatDialogRef<ChangePasswordDialogComponent>\n  ) {\n    this.passwordForm = this.fb.group({\n      currentPassword: ['', Validators.required],\n      newPassword: ['', [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['', Validators.required]\n    });\n  }\n\n  async onSubmit() {\n    if (this.passwordForm.invalid) return;\n\n    const { currentPassword, newPassword, confirmPassword } = this.passwordForm.value;\n\n    if (newPassword !== confirmPassword) {\n      this.message = '❌ Passwords do not match';\n      this.isError = true;\n      return;\n    }\n\n    try {\n      await this.authService.updateUserPassword(currentPassword, newPassword);\n      this.message = '✅ Password updated successfully';\n      this.isError = false;\n      this.passwordForm.reset();\n    } catch (error: any) {\n      this.message = `❌ ${error.message || 'Failed to update password'}`;\n      this.isError = true;\n    }\n  }\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAAsBC,mBAAmB,EAAaC,UAAU,QAAQ,gBAAgB;AAExF,SAASC,eAAe,QAAQ,0BAA0B;AAC1D,SAASC,kBAAkB,QAAQ,8BAA8B;AACjE,SAASC,cAAc,QAAQ,yBAAyB;AAkBjD,WAAMC,6BAA6B,GAAnC,MAAMA,6BAA6B;EAKxCC,YACUC,EAAe,EACfC,WAAwB,EACzBC,SAAsD;IAFrD,KAAAF,EAAE,GAAFA,EAAE;IACF,KAAAC,WAAW,GAAXA,WAAW;IACZ,KAAAC,SAAS,GAATA,SAAS;IANlB,KAAAC,OAAO,GAAG,EAAE;IACZ,KAAAC,OAAO,GAAG,KAAK;IAOb,IAAI,CAACC,YAAY,GAAG,IAAI,CAACL,EAAE,CAACM,KAAK,CAAC;MAChCC,eAAe,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACc,QAAQ,CAAC;MAC1CC,WAAW,EAAE,CAAC,EAAE,EAAE,CAACf,UAAU,CAACc,QAAQ,EAAEd,UAAU,CAACgB,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MACjEC,eAAe,EAAE,CAAC,EAAE,EAAEjB,UAAU,CAACc,QAAQ;KAC1C,CAAC;EACJ;EAEMI,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ,IAAID,KAAI,CAACR,YAAY,CAACU,OAAO,EAAE;MAE/B,MAAM;QAAER,eAAe;QAAEE,WAAW;QAAEE;MAAe,CAAE,GAAGE,KAAI,CAACR,YAAY,CAACW,KAAK;MAEjF,IAAIP,WAAW,KAAKE,eAAe,EAAE;QACnCE,KAAI,CAACV,OAAO,GAAG,0BAA0B;QACzCU,KAAI,CAACT,OAAO,GAAG,IAAI;QACnB;;MAGF,IAAI;QACF,MAAMS,KAAI,CAACZ,WAAW,CAACgB,kBAAkB,CAACV,eAAe,EAAEE,WAAW,CAAC;QACvEI,KAAI,CAACV,OAAO,GAAG,iCAAiC;QAChDU,KAAI,CAACT,OAAO,GAAG,KAAK;QACpBS,KAAI,CAACR,YAAY,CAACa,KAAK,EAAE;OAC1B,CAAC,OAAOC,KAAU,EAAE;QACnBN,KAAI,CAACV,OAAO,GAAG,KAAKgB,KAAK,CAAChB,OAAO,IAAI,2BAA2B,EAAE;QAClEU,KAAI,CAACT,OAAO,GAAG,IAAI;;IACpB;EACH;CACD;AAtCYN,6BAA6B,GAAAsB,UAAA,EAfzC7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,4BAA4B;EACtCA,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,iEAAiE,CAAC;EAC9EC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CACPjC,YAAY,EACZC,mBAAmB,EACnBG,kBAAkB,EAClBC,cAAc,EACdF,eAAe,CAChB;EACD4B,SAAS,EAAE,CAAC,iEAAiE;CAC9E,CAAC,C,EACWzB,6BAA6B,CAsCzC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}