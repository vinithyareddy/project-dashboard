{"ast":null,"code":"import _asyncToGenerator from \"/Users/vinithyareddy/Desktop/projects/my github projects/project-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, Validators } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RouterModule } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\nexport let AuthComponent = class AuthComponent {\n  constructor(fb, authService, router) {\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.isRegisterMode = false;\n    this.errorMsg = '';\n    this.showPassword = false;\n    this.showConfirm = false;\n    this.authForm = this.fb.group({\n      name: [''],\n      phone: [''],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['']\n    });\n  }\n  ngOnInit() {\n    this.authService.getUser().subscribe(user => {\n      if (user) {\n        this.router.navigate(['/dashboard']);\n      }\n    });\n  }\n  toggleMode() {\n    this.isRegisterMode = !this.isRegisterMode;\n    this.errorMsg = '';\n  }\n  togglePasswordVisibility() {\n    this.showPassword = !this.showPassword;\n  }\n  toggleConfirmVisibility() {\n    this.showConfirm = !this.showConfirm;\n  }\n  onForgotPassword(event) {\n    event.preventDefault(); // Prevent default anchor behavior\n    this.errorMsg = 'üîê Forgot Password feature coming soon!';\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.authForm.invalid) return;\n      const {\n        name,\n        phone,\n        email,\n        password,\n        confirmPassword\n      } = _this.authForm.value;\n      if (_this.isRegisterMode && password !== confirmPassword) {\n        _this.errorMsg = '‚ùå Passwords do not match';\n        return;\n      }\n      try {\n        if (_this.isRegisterMode) {\n          yield _this.authService.registerWithProfile({\n            name,\n            phone,\n            email,\n            password\n          });\n          _this.errorMsg = '‚úÖ Account has been created';\n        } else {\n          yield _this.authService.login(email, password);\n        }\n        _this.router.navigate(['/dashboard']);\n      } catch (err) {\n        const errorCode = err.code || '';\n        switch (errorCode) {\n          case 'auth/invalid-login-credentials':\n          case 'auth/user-not-found':\n          case 'auth/wrong-password':\n            _this.errorMsg = '‚ùå Invalid Credentials';\n            break;\n          case 'auth/email-already-in-use':\n            _this.errorMsg = '‚ùå Email already in use';\n            break;\n          case 'auth/too-many-requests':\n            _this.errorMsg = '‚ùå Too many attempts. Try again later.';\n            break;\n          default:\n            _this.errorMsg = err.message || '‚ùå An unexpected error occurred';\n        }\n      }\n    })();\n  }\n};\nAuthComponent = __decorate([Component({\n  selector: 'app-auth',\n  standalone: true,\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss'],\n  imports: [CommonModule, ReactiveFormsModule, MatButtonModule, MatFormFieldModule, MatInputModule, MatIconModule, RouterModule],\n  providers: [AuthService] // ‚úÖ Add this line to fix injection error\n})], AuthComponent);","map":{"version":3,"names":["Component","CommonModule","ReactiveFormsModule","Validators","MatButtonModule","MatFormFieldModule","MatInputModule","MatIconModule","RouterModule","AuthService","AuthComponent","constructor","fb","authService","router","isRegisterMode","errorMsg","showPassword","showConfirm","authForm","group","name","phone","email","required","password","minLength","confirmPassword","ngOnInit","getUser","subscribe","user","navigate","toggleMode","togglePasswordVisibility","toggleConfirmVisibility","onForgotPassword","event","preventDefault","onSubmit","_this","_asyncToGenerator","invalid","value","registerWithProfile","login","err","errorCode","code","message","__decorate","selector","standalone","templateUrl","styleUrls","imports","providers"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/project-dashboard/src/app/auth/auth/auth.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { RouterModule, Router } from '@angular/router';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Component({\n  selector: 'app-auth',\n  standalone: true,\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.scss'],\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    RouterModule\n  ],\n  providers: [AuthService] // ‚úÖ Add this line to fix injection error\n})\nexport class AuthComponent implements OnInit {\n  authForm: FormGroup;\n  isRegisterMode = false;\n  errorMsg = '';\n  showPassword = false;\n  showConfirm = false;\n\n  constructor(\n    private fb: FormBuilder,\n    private authService: AuthService,\n    private router: Router\n  ) {\n    this.authForm = this.fb.group({\n      name: [''],\n      phone: [''],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['']\n    });\n  }\n\n  ngOnInit(): void {\n    this.authService.getUser().subscribe(user => {\n      if (user) {\n        this.router.navigate(['/dashboard']);\n      }\n    });\n  }\n\n  toggleMode() {\n    this.isRegisterMode = !this.isRegisterMode;\n    this.errorMsg = '';\n  }\n\n  togglePasswordVisibility() {\n    this.showPassword = !this.showPassword;\n  }\n\n  toggleConfirmVisibility() {\n    this.showConfirm = !this.showConfirm;\n  }\n  onForgotPassword(event: Event) {\n    event.preventDefault(); // Prevent default anchor behavior\n    this.errorMsg = 'üîê Forgot Password feature coming soon!';\n  }\n  \n\n  async onSubmit() {\n    if (this.authForm.invalid) return;\n\n    const { name, phone, email, password, confirmPassword } = this.authForm.value;\n\n    if (this.isRegisterMode && password !== confirmPassword) {\n      this.errorMsg = '‚ùå Passwords do not match';\n      return;\n    }\n\n    try {\n      if (this.isRegisterMode) {\n        await this.authService.registerWithProfile({ name, phone, email, password });\n        this.errorMsg = '‚úÖ Account has been created';\n      } else {\n        await this.authService.login(email, password);\n      }\n      this.router.navigate(['/dashboard']);\n    } catch (err: any) {\n      const errorCode = err.code || '';\n      switch (errorCode) {\n        case 'auth/invalid-login-credentials':\n        case 'auth/user-not-found':\n        case 'auth/wrong-password':\n          this.errorMsg = '‚ùå Invalid Credentials';\n          break;\n        case 'auth/email-already-in-use':\n          this.errorMsg = '‚ùå Email already in use';\n          break;\n        case 'auth/too-many-requests':\n          this.errorMsg = '‚ùå Too many attempts. Try again later.';\n          break;\n        default:\n          this.errorMsg = err.message || '‚ùå An unexpected error occurred';\n      }\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}