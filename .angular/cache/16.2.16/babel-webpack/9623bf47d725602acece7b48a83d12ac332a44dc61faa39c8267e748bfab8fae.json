{"ast":null,"code":"import _asyncToGenerator from \"/Users/vinithyareddy/Desktop/projects/my github projects/project-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { collection, addDoc, updateDoc, deleteDoc, doc, getDocs } from '@angular/fire/firestore';\nimport { from } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/firestore\";\nexport class FirestoreService {\n  constructor(firestore) {\n    this.firestore = firestore;\n  }\n  // ----- Tasks -----\n  addTask(task) {\n    return from(addDoc(collection(this.firestore, 'tasks'), task));\n  }\n  updateTask(taskId, updates) {\n    return from(updateDoc(doc(this.firestore, `tasks/${taskId}`), updates));\n  }\n  deleteTask(taskId) {\n    return from(deleteDoc(doc(this.firestore, `tasks/${taskId}`)));\n  }\n  getTasks() {\n    var _this = this;\n    return this.getCollectionPath('tasks').pipe(switchMap( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (path) {\n        const snapshot = yield getDocs(collection(_this.firestore, path));\n        return snapshot.docs.map(docSnap => ({\n          id: docSnap.id,\n          ...docSnap.data()\n        }));\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()));\n  }\n  // ----- Projects -----\n  addProject(project) {\n    return from(addDoc(collection(this.firestore, 'projects'), project));\n  }\n  updateProject(projectId, updates) {\n    return from(updateDoc(doc(this.firestore, `projects/${projectId}`), updates));\n  }\n  deleteProject(projectId) {\n    return from(deleteDoc(doc(this.firestore, `projects/${projectId}`)));\n  }\n  getProjects() {\n    var _this2 = this;\n    return this.getCollectionPath('projects').pipe(switchMap( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (path) {\n        const snapshot = yield getDocs(collection(_this2.firestore, path));\n        return snapshot.docs.map(docSnap => ({\n          id: docSnap.id,\n          ...docSnap.data()\n        }));\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()));\n  }\n  // ----- Teams -----\n  addTeamMember(member) {\n    return this.getCollectionPath('teams').pipe(switchMap(path => from(addDoc(collection(this.firestore, path), member))));\n  }\n  updateTeamMember(memberId, updates) {\n    return this.getCollectionPath('teams').pipe(switchMap(path => from(updateDoc(doc(this.firestore, `${path}/${memberId}`), updates))));\n  }\n  deleteTeamMember(memberId) {\n    return this.getCollectionPath('teams').pipe(switchMap(path => from(deleteDoc(doc(this.firestore, `${path}/${memberId}`)))));\n  }\n  getTeamMembers() {\n    var _this3 = this;\n    return this.getCollectionPath('teams').pipe(switchMap( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator(function* (path) {\n        const snapshot = yield getDocs(collection(_this3.firestore, path));\n        return snapshot.docs.map(docSnap => ({\n          id: docSnap.id,\n          ...docSnap.data()\n        }));\n      });\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()));\n  }\n  static {\n    this.ɵfac = function FirestoreService_Factory(t) {\n      return new (t || FirestoreService)(i0.ɵɵinject(i1.Firestore));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: FirestoreService,\n      factory: FirestoreService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["collection","addDoc","updateDoc","deleteDoc","doc","getDocs","from","switchMap","FirestoreService","constructor","firestore","addTask","task","updateTask","taskId","updates","deleteTask","getTasks","_this","getCollectionPath","pipe","_ref","_asyncToGenerator","path","snapshot","docs","map","docSnap","id","data","_x","apply","arguments","addProject","project","updateProject","projectId","deleteProject","getProjects","_this2","_ref2","_x2","addTeamMember","member","updateTeamMember","memberId","deleteTeamMember","getTeamMembers","_this3","_ref3","_x3","i0","ɵɵinject","i1","Firestore","factory","ɵfac","providedIn"],"sources":["/Users/vinithyareddy/Desktop/projects/my github projects/project-dashboard/src/app/services/firestore.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  Firestore,\n  collection,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  doc,\n  getDocs\n} from '@angular/fire/firestore';\nimport { Task } from '../models/task.model';\nimport { Project } from '../models/project.model';\nimport { from, Observable, of } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\n\n\n@Injectable({ providedIn: 'root' })\nexport class FirestoreService {\n  constructor(private firestore: Firestore) {}\n\n  // ----- Tasks -----\n  addTask(task: Task): Observable<any> {\n    return from(addDoc(collection(this.firestore, 'tasks'), task));\n  }\n\n  updateTask(taskId: string, updates: Partial<Task>): Observable<any> {\n    return from(updateDoc(doc(this.firestore, `tasks/${taskId}`), updates));\n  }\n\n  deleteTask(taskId: string): Observable<any> {\n    return from(deleteDoc(doc(this.firestore, `tasks/${taskId}`)));\n  }\n\n  getTasks(): Observable<Task[]> {\n    return this.getCollectionPath('tasks').pipe(\n      switchMap(async (path) => {\n        const snapshot = await getDocs(collection(this.firestore, path));\n        return snapshot.docs.map((docSnap: any) => ({\n          id: docSnap.id,\n          ...docSnap.data()\n        } as Task));\n      })\n    );\n  }\n  \n\n  // ----- Projects -----\n  addProject(project: Project): Observable<any> {\n    return from(addDoc(collection(this.firestore, 'projects'), project));\n  }\n\n  updateProject(projectId: string, updates: Partial<Project>): Observable<any> {\n    return from(updateDoc(doc(this.firestore, `projects/${projectId}`), updates));\n  }\n\n  deleteProject(projectId: string): Observable<any> {\n    return from(deleteDoc(doc(this.firestore, `projects/${projectId}`)));\n  }\n\n  getProjects(): Observable<Project[]> {\n    return this.getCollectionPath('projects').pipe(\n      switchMap(async (path) => {\n        const snapshot = await getDocs(collection(this.firestore, path));\n        return snapshot.docs.map((docSnap: any) => ({\n          id: docSnap.id,\n          ...docSnap.data()\n        } as Project));\n      })\n    );\n  }\n  \n  // ----- Teams -----\naddTeamMember(member: TeamMember): Observable<any> {\n  return this.getCollectionPath('teams').pipe(\n    switchMap((path) => from(addDoc(collection(this.firestore, path), member)))\n  );\n}\n\nupdateTeamMember(memberId: string, updates: Partial<TeamMember>): Observable<any> {\n  return this.getCollectionPath('teams').pipe(\n    switchMap((path) => from(updateDoc(doc(this.firestore, `${path}/${memberId}`), updates)))\n  );\n}\n\ndeleteTeamMember(memberId: string): Observable<any> {\n  return this.getCollectionPath('teams').pipe(\n    switchMap((path) => from(deleteDoc(doc(this.firestore, `${path}/${memberId}`))))\n  );\n}\n\ngetTeamMembers(): Observable<TeamMember[]> {\n  return this.getCollectionPath('teams').pipe(\n    switchMap(async (path) => {\n      const snapshot = await getDocs(collection(this.firestore, path));\n      return snapshot.docs.map((docSnap: any) => ({ id: docSnap.id, ...docSnap.data() } as TeamMember));\n    })\n  );\n}\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}